# Device Number Reading - è®¾å¤‡æ•°ç æ˜¾ç¤ºè¯»æ•°åˆ†æç³»ç»Ÿ

<div align="center">

![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)
![OpenCV](https://img.shields.io/badge/OpenCV-4.5+-green.svg)
![License](https://img.shields.io/badge/license-MIT-orange.svg)

**åŸºäºè®¡ç®—æœºè§†è§‰çš„ 7 æ®µæ•°ç ç®¡è‡ªåŠ¨è¯†åˆ«ä¸æ•°æ®åˆ†æå·¥å…·**

[English](#english) | [ä¸­æ–‡](#chinese)

</div>

---

<a name="chinese"></a>

## ğŸ“– é¡¹ç›®ç®€ä»‹

Device Number Reading æ˜¯ä¸€ä¸ªä¸“ä¸ºå·¥ä¸šè®¾å¤‡æ•°ç æ˜¾ç¤ºè¯»æ•°è®¾è®¡çš„å›¾åƒè¯†åˆ«åˆ†æç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿä½¿ç”¨åŸºäº PaddleOCR SVTR_Tiny æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œèƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ« 7 æ®µ/8 æ®µæ•°ç ç®¡æ˜¾ç¤ºçš„æ•°å­—ï¼Œå¹¶å°†æ—¶é—´åºåˆ—æ•°æ®å¯¼å‡ºä¸º Excel æ ¼å¼ï¼Œé€‚ç”¨äºå®éªŒç›‘æµ‹ã€è®¾å¤‡è¯»æ•°è®°å½•ç­‰åœºæ™¯ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **é«˜ç²¾åº¦è¯†åˆ«**ï¼šåŸºäº SVTR_Tiny æ•°ç ç®¡ä¸“ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹
- ğŸš€ **ä¸“ç”¨ä¼˜åŒ–**ï¼šé’ˆå¯¹æ•°ç ç®¡åœºæ™¯è®­ç»ƒï¼Œè¯†åˆ«å‡†ç¡®ç‡æ›´é«˜
- ğŸ”§ **çµæ´»é…ç½®**ï¼šæ”¯æŒå¤šç§é¢„å¤„ç†é€‰é¡¹å’Œå‚æ•°è°ƒèŠ‚
- ğŸ“¦ **è½»é‡æ¨¡å‹**ï¼šæ¨¡å‹å¤§å°ä»… 24MBï¼Œæ¨ç†é€Ÿåº¦æ›´å¿«
- ğŸ”¢ **å°æ•°ç‚¹ä½ç½®è°ƒæ•´**ï¼šæ”¯æŒè¯†åˆ«åè°ƒæ•´å°æ•°ç‚¹ä½ç½®å’Œç²¾åº¦
- ğŸ“Š **æ™ºèƒ½æ•°æ®å¯è§†åŒ–**ï¼šå®æ—¶ç»˜åˆ¶è¯»æ•°æ•£ç‚¹å›¾ï¼Œæ ¹æ®ç½®ä¿¡åº¦åŠ¨æ€æ ‡æ³¨é¢œè‰²
- ğŸ¨ **ç½®ä¿¡åº¦å¯è§†åŒ–**ï¼šä¸åŒç½®ä¿¡åº¦ç”¨ä¸åŒé¢œè‰²è¡¨ç¤ºï¼ˆç»¿è‰²=é«˜ï¼Œæ©™è‰²=ä¸­ï¼Œçº¢è‰²=ä½ï¼Œé»‘è‰²=å¤±è´¥ï¼‰
- ğŸ–±ï¸ **äº¤äº’å¼æ›²çº¿å›¾**ï¼šç‚¹å‡»æ•°æ®ç‚¹å³å¯è·³è½¬åˆ°å¯¹åº”å›¾åƒå¸§
- ğŸ’¾ **æ•°æ®å¯¼å‡º**ï¼šä¸€é”®å¯¼å‡º Excel æ ¼å¼æ•°æ®ï¼ˆå«ç½®ä¿¡åº¦ä¿¡æ¯ï¼‰
- ğŸ–¼ï¸ **ROI é€‰æ‹©**ï¼šå¯è§†åŒ–æ„Ÿå…´è¶£åŒºåŸŸé€‰æ‹©
- ğŸš€ **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå›¾åƒåºåˆ—æ‰¹é‡è¯†åˆ«

### ğŸ¥ åº”ç”¨åœºæ™¯

- å·¥ä¸šè®¾å¤‡æ•°ç è¡¨è¯»æ•°è‡ªåŠ¨è®°å½•
- å®éªŒå®¤ä»ªå™¨æ•°æ®é‡‡é›†
- å†å²è®¾å¤‡ç›‘æ§æ•°æ®æå–
- æ—¶é—´åºåˆ—æ•°æ®åˆ†æ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11, Linux, macOS
- **Python ç‰ˆæœ¬**ï¼š3.8 æˆ–æ›´é«˜
- **å†…å­˜**ï¼šå»ºè®® 4GB ä»¥ä¸Š

### å®‰è£…æ­¥éª¤

1. **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**

```bash
git clone https://github.com/yourusername/Device_Number_Reading.git
cd Device_Number_Reading
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰**

```bash
# ä½¿ç”¨ conda
conda create -n device_reading python=3.9
conda activate device_reading

# æˆ–ä½¿ç”¨ venv
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/macOS
source venv/bin/activate
```

3. **å®‰è£…ä¾èµ–åŒ…**

```bash
pip install -r requirements.txt

# æ³¨æ„ï¼šæœ¬é¡¹ç›®ä½¿ç”¨é¢„è®­ç»ƒçš„ SVTR_Tiny æ•°ç ç®¡ä¸“ç”¨æ¨¡å‹ï¼ˆå·²åŒ…å«åœ¨é¡¹ç›®ä¸­ï¼‰
# æ¨ç†æ¨¡å‹æ–‡ä»¶ä½äº ./svtr_tiny_digital/ ç›®å½•ï¼ˆçº¦ 24MBï¼‰
# åŒ…å«ï¼šinference.pdmodel + inference.pdiparamsï¼ˆæ¨ç†ä¼˜åŒ–ï¼‰
# ä»¥åŠï¼šbest_accuracy.pdparamsï¼ˆè®­ç»ƒæ¨¡å‹ï¼Œå¤‡ç”¨ï¼‰
# æ— éœ€é¢å¤–ä¸‹è½½ï¼Œå¼€ç®±å³ç”¨
```

4. **è¿è¡Œç¨‹åº**

```bash
python Device_Reading_Analyzer.py
```

---

## ğŸ“˜ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å·¥ä½œæµç¨‹

```
åŠ è½½å›¾åƒåºåˆ— â†’ é€‰æ‹©ROI â†’ è®¾ç½®å‚æ•° â†’ å¤„ç†å›¾åƒ â†’ å¯¼å‡ºæ•°æ®
```

### è¯¦ç»†æ­¥éª¤

#### 1ï¸âƒ£ åŠ è½½å›¾åƒåºåˆ—

- ç‚¹å‡» **"Load Image Sequence"** æŒ‰é’®
- é€‰æ‹©åŒ…å«è®¾å¤‡è¯»æ•°å›¾åƒçš„æ–‡ä»¶å¤¹
- æ”¯æŒæ ¼å¼ï¼š`.jpg`, `.jpeg`, `.png`, `.bmp`, `.tiff`, `.tif`

#### 2ï¸âƒ£ é€‰æ‹©æ„Ÿå…´è¶£åŒºåŸŸ (ROI)

- ç‚¹å‡» **"Select ROI"** æŒ‰é’®
- åœ¨å›¾åƒä¸Šæ‹–åŠ¨é¼ æ ‡æ¡†é€‰æ•°ç æ˜¾ç¤ºåŒºåŸŸ
- ç¡®ä¿ ROI å®Œæ•´åŒ…å«æ‰€æœ‰æ•°å­—å’Œå°æ•°ç‚¹
- å¯ä½¿ç”¨ **"Clear ROI"** é‡æ–°é€‰æ‹©

#### 3ï¸âƒ£ å‚æ•°é…ç½®

**æ—¶é—´å‚æ•°**

- **Time Interval**ï¼šå›¾åƒä¹‹é—´çš„æ—¶é—´é—´éš”
- **Time Unit**ï¼šæ—¶é—´å•ä½ï¼ˆmilliseconds, seconds, minutes, hoursï¼‰
- **Start Time**ï¼šèµ·å§‹æ—¶é—´å€¼

**è¯†åˆ«å‚æ•°**

- **Reading Unit**ï¼šè¯»æ•°å•ä½ï¼ˆå¯é€‰ï¼Œç”¨äºæ ‡æ³¨ï¼‰
- **Decimal Position**ï¼šå°æ•°ç‚¹ä½ç½®è°ƒæ•´
  - **Keep**ï¼šä¿æŒåŸå§‹è¯†åˆ«ç»“æœï¼ˆé»˜è®¤ï¼‰
  - **None**ï¼šç§»é™¤å°æ•°ç‚¹ï¼Œå¾—åˆ°æ•´æ•°
  - **0.1**ï¼šè°ƒæ•´ä¸º 1 ä½å°æ•°ç²¾åº¦
  - **0.01**ï¼šè°ƒæ•´ä¸º 2 ä½å°æ•°ç²¾åº¦
  - **0.001**ï¼šè°ƒæ•´ä¸º 3 ä½å°æ•°ç²¾åº¦
  - **0.0001**ï¼šè°ƒæ•´ä¸º 4 ä½å°æ•°ç²¾åº¦
  - ç”¨é€”ï¼šå½“æ•°ç ç®¡æ˜¾ç¤ºä¸åŒ…å«å°æ•°ç‚¹ï¼Œä½†å®é™…è¯»æ•°éœ€è¦å°æ•°ä½æ—¶ä½¿ç”¨

**é¢„å¤„ç†å‚æ•°**

- **Erosion Size**ï¼šè…èš€è¿ç®—æ ¸å¤§å°ï¼ˆ0 è¡¨ç¤ºç¦ç”¨ï¼Œ>0 è¡¨ç¤ºå¯ç”¨ï¼Œä½¿ç”¨ disk å½¢çŠ¶æ ¸ï¼‰
  - å¯ç”¨åä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç†å°æ•°ç‚¹
  - å°†å°æ•°ç‚¹æ›¿æ¢ä¸ºè‡ªé€‚åº”å¤§å°çš„å®å¿ƒåœ†ç‚¹
- **Closing Size**ï¼šé—­è¿ç®—æ ¸å¤§å°ï¼ˆ0 è¡¨ç¤ºç¦ç”¨ï¼Œ>0 è¡¨ç¤ºå¯ç”¨ï¼Œä½¿ç”¨çŸ©å½¢æ ¸ï¼‰
  - è‡ªåŠ¨ä¿æŠ¤å°æ•°ç‚¹ï¼Œä¸å¯¹å…¶è¿›è¡Œé—­è¿ç®—
- **Preview Preprocessing**ï¼šé¢„è§ˆé¢„å¤„ç†æ•ˆæœ

#### 4ï¸âƒ£ å¤„ç†å›¾åƒ

- ç‚¹å‡» **"Process Images"** å¼€å§‹æ‰¹é‡è¯†åˆ«
- å®æ—¶æŸ¥çœ‹ï¼š
  - å½“å‰å¤„ç†è¿›åº¦
  - è¯†åˆ«ç»“æœæ—¥å¿—
  - å®æ—¶æ›´æ–°çš„è¯»æ•°æ•£ç‚¹å›¾ï¼ˆæ ¹æ®ç½®ä¿¡åº¦æ˜¾ç¤ºä¸åŒé¢œè‰²ï¼‰
    - ğŸŸ¢ ç»¿è‰²ï¼šé«˜ç½®ä¿¡åº¦ (â‰¥ 0.9)
    - ğŸŸ  æ©™è‰²ï¼šä¸­ç­‰ç½®ä¿¡åº¦ (0.75 ~ 0.89)
    - ğŸ”´ çº¢è‰²ï¼šä½ç½®ä¿¡åº¦ (< 0.75)
    - âš« é»‘è‰²ï¼šè¯†åˆ«å¤±è´¥ (NaN)
- å¯éšæ—¶ç‚¹å‡» **"Stop Processing"** ä¸­æ­¢å¤„ç†

#### 5ï¸âƒ£ æŸ¥çœ‹å’Œäº¤äº’

**æ™ºèƒ½æ›²çº¿å›¾åŠŸèƒ½**

- å¤„ç†å®Œæˆåï¼Œæ•£ç‚¹å›¾ä¼šæ˜¾ç¤ºå®Œæ•´çš„è¯»æ•°æ•°æ®
- **ç½®ä¿¡åº¦é¢œè‰²ç¼–ç **ï¼šæ¯ä¸ªæ•°æ®ç‚¹çš„é¢œè‰²åæ˜ è¯†åˆ«ç½®ä¿¡åº¦
  - ğŸŸ¢ **ç»¿è‰²**ï¼šé«˜ç½®ä¿¡åº¦ (â‰¥ 0.9) - è¯†åˆ«ç»“æœé«˜åº¦å¯ä¿¡
  - ğŸŸ  **æ©™è‰²**ï¼šä¸­ç­‰ç½®ä¿¡åº¦ ([0.75, 0.9)) - è¯†åˆ«ç»“æœåŸºæœ¬å¯ä¿¡ï¼Œå»ºè®®äººå·¥å¤æ ¸
  - ğŸ”´ **çº¢è‰²**ï¼šä½ç½®ä¿¡åº¦ (< 0.75) - è¯†åˆ«ç»“æœå¯ä¿¡åº¦ä½ï¼Œéœ€è¦äººå·¥å¤æ ¸
  - âš« **é»‘è‰²**ï¼šè¯†åˆ«å¤±è´¥ (NaN) - æœªèƒ½è¯†åˆ«ï¼Œéœ€è¦æ£€æŸ¥åŸå›¾
- **äº¤äº’å¼è·³è½¬**ï¼š
  - ç‚¹å‡»æ•£ç‚¹å›¾ä¸Šçš„ä»»æ„æ•°æ®ç‚¹
  - å›¾åƒé¢„è§ˆåŒºåŸŸä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„å›¾åƒå¸§
  - æ—¥å¿—çª—å£æ˜¾ç¤ºè·³è½¬ä¿¡æ¯ï¼ˆå¸§å·ã€æ—¶é—´ã€è¯»æ•°ã€ç½®ä¿¡åº¦ï¼‰
  - æ³¨æ„ï¼šå›¾åƒå¤„ç†æœŸé—´ç‚¹å‡»è·³è½¬åŠŸèƒ½è¢«ç¦ç”¨

#### 6ï¸âƒ£ å¯¼å‡ºæ•°æ®

- å¤„ç†å®Œæˆåï¼Œç‚¹å‡» **"Export to Excel"**
- é€‰æ‹©ä¿å­˜ä½ç½®å’Œæ–‡ä»¶å
- æ•°æ®åŒ…å«ï¼šæ—¶é—´åˆ—ã€è¯»æ•°åˆ—ã€ç½®ä¿¡åº¦åˆ—

---

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯             | ç‰ˆæœ¬     | ç”¨é€”           |
| ---------------- | -------- | -------------- |
| **Python**       | 3.8+     | ä¸»è¦å¼€å‘è¯­è¨€   |
| **OpenCV**       | 4.5+     | å›¾åƒå¤„ç†       |
| **PaddleOCR**    | 2.7+     | OCR æ¨ç†å¼•æ“   |
| **PaddlePaddle** | 2.5+     | æ·±åº¦å­¦ä¹ æ¡†æ¶   |
| **SVTR_Tiny**    | Custom   | æ•°ç ç®¡è¯†åˆ«æ¨¡å‹ |
| **NumPy**        | 1.20+    | æ•°å€¼è®¡ç®—       |
| **Tkinter**      | Built-in | GUI ç•Œé¢       |
| **Matplotlib**   | 3.3+     | æ•°æ®å¯è§†åŒ–     |
| **Pandas**       | 1.3+     | æ•°æ®å¤„ç†       |

### è¯†åˆ«ç®—æ³•

#### SVTR_Tiny æ•°ç ç®¡ä¸“ç”¨è¯†åˆ«

```
å›¾åƒé¢„å¤„ç† â†’ ç»„ä»¶é—´è·æ‰©å±• â†’ SVTR_Tinyè¯†åˆ« â†’ ç»“æœéªŒè¯
```

**ä¼˜åŠ¿**ï¼š

- ğŸ¯ **ä¸“ç”¨è®­ç»ƒ**ï¼šé’ˆå¯¹æ•°ç ç®¡åœºæ™¯ä¸“é—¨è®­ç»ƒçš„æ¨¡å‹
- ğŸ“¦ **è½»é‡é«˜æ•ˆ**ï¼šæ¨¡å‹ä»… 24MBï¼Œæ¨ç†é€Ÿåº¦å¿«
- ğŸ“ **é«˜å‡†ç¡®ç‡**ï¼šä¸“ç”¨å­—å…¸ï¼ˆä»… 0-9ã€-ã€.ï¼‰ï¼Œå‡å°‘è¯¯è¯†åˆ«
- ğŸ”§ **å¼€ç®±å³ç”¨**ï¼šæ¨¡å‹å·²åŒ…å«åœ¨é¡¹ç›®ä¸­ï¼Œæ— éœ€ä¸‹è½½
- ğŸš€ **SVTR æ¶æ„**ï¼šå…ˆè¿›çš„æ–‡æœ¬è¯†åˆ«æ¶æ„ï¼Œè¯†åˆ«å‡†ç¡®ç‡æ›´é«˜

**æ¨¡å‹æ¶æ„**ï¼š

- **ç®—æ³•**ï¼šSVTR (Scene Text Recognition with a Single Visual Model)
- **éª¨å¹²ç½‘ç»œ**ï¼šSVTRNet (6-layer Local + 6-layer Global)
- **è§£ç å™¨**ï¼šCTC (Connectionist Temporal Classification)
- **ç©ºé—´å˜æ¢**ï¼šSTN (Spatial Transformer Network) é€è§†æ ¡æ­£
- **è¾“å…¥å°ºå¯¸**ï¼š3 Ã— 64 Ã— 256 (C Ã— H Ã— W)
- **è‡ªå®šä¹‰å­—å…¸**ï¼šä»…åŒ…å« 0-9ã€-ã€. å…± 12 ä¸ªå­—ç¬¦

**æŠ€æœ¯ç‰¹ç‚¹**ï¼š

- å­—ç¬¦ç™½åå•ï¼šä»…è¯†åˆ«"-0123456789."
- ç½®ä¿¡åº¦è¿‡æ»¤æœºåˆ¶
- è‡ªåŠ¨å›¾åƒé¢„å¤„ç†ä¼˜åŒ–
- æ”¯æŒ GPU åŠ é€Ÿæ¨ç†

### å›¾åƒé¢„å¤„ç†æµç¨‹

```python
åŸå§‹å›¾åƒ
  â†“
ROIæå–
  â†“
ç°åº¦åŒ– (cvtColor)
  â†“
OTSUè‡ªé€‚åº”äºŒå€¼åŒ– (threshold)
  â†“
å°å¯¹è±¡è¿‡æ»¤ (connectedComponents)
  â†“
è¾¹ç•Œæ·»åŠ  (copyMakeBorder, 15åƒç´ )
  â†“
å¯é€‰ï¼šè…èš€è¿ç®— (erosion, diskå½¢çŠ¶æ ¸)
  â†“
  â”œâ”€ å¦‚æœå¯ç”¨è…èš€ä¸”æ£€æµ‹åˆ°å°æ•°ç‚¹ï¼š
  â”‚   â”œâ”€ æ£€æµ‹å°æ•°ç‚¹ï¼ˆé¢ç§¯æœ€å°ä¸”<å€’æ•°ç¬¬äºŒå°çš„1/4ï¼‰
  â”‚   â”œâ”€ æ‰©å±•å…¶ä»–å¯¹è±¡ä¸å°æ•°ç‚¹çš„æ°´å¹³é—´è·ï¼ˆ4å€è…èš€æ ¸å¤§å°ï¼‰
  â”‚   â”œâ”€ å¯¹å…¶ä»–å¯¹è±¡è¿›è¡Œè†¨èƒ€ï¼ˆæ¢å¤åŸçŠ¶ï¼‰
  â”‚   â””â”€ å°†å°æ•°ç‚¹æ›¿æ¢ä¸ºå®å¿ƒåœ†ç‚¹ï¼ˆç›´å¾„=max(4Ã—è…èš€æ ¸, ROIé«˜åº¦/15)ï¼‰
  â†“
å¯é€‰ï¼šé—­è¿ç®— (closing, çŸ©å½¢æ ¸ï¼Œä¿æŠ¤å°æ•°ç‚¹)
  â†“
å°ºå¯¸è°ƒæ•´ (resize, ç¡®ä¿é«˜åº¦â‰¥32åƒç´ )
  â†“
PaddleOCRè¯†åˆ«
```

### é¡¹ç›®ç»“æ„

```
Device_Number_Reading/
â”œâ”€â”€ Device_Reading_Analyzer.py    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt               # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ config.json                    # é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ README.md                      # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md                  # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ PROJECT_STRUCTURE.md           # é¡¹ç›®ç»“æ„è¯´æ˜
â”œâ”€â”€ CHANGELOG.md                   # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ LICENSE                        # MITè®¸å¯è¯
â”‚
â”œâ”€â”€ src/                           # æºä»£ç æ¨¡å—
â”‚   â”œâ”€â”€ main_window.py             # ä¸»çª—å£ï¼ˆå®Œæ•´å®ç°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ image_processor.py     # å›¾åƒå¤„ç†
â”‚   â”‚   â””â”€â”€ digit_recognizer.py    # æ•°å­—è¯†åˆ«ï¼ˆPaddleOCRï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·æ¨¡å—ï¼ˆé¢„ç•™ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ resources/                 # èµ„æºæ–‡ä»¶
â”‚       â”œâ”€â”€ help_content_cn.txt    # ä¸­æ–‡ä½¿ç”¨æŒ‡å—
â”‚       â””â”€â”€ help_content_en.txt    # è‹±æ–‡ä½¿ç”¨æŒ‡å—
â”‚
â””â”€â”€ test_images/                   # æµ‹è¯•å›¾åƒç›®å½•
```

---

## ğŸ¨ ç•Œé¢è¯´æ˜

### GUI ç•Œé¢æˆªå›¾

![GUI Screenshot](src/resources/GUI%20screenshot.png)

### æ§åˆ¶é¢æ¿åŠŸèƒ½

- **File Loading**ï¼šåŠ è½½å›¾åƒåºåˆ—
- **ROI Selection**ï¼šé€‰æ‹©è¯†åˆ«åŒºåŸŸ
- **Parameters**ï¼šæ—¶é—´ã€å•ä½ç­‰å‚æ•°è®¾ç½®
- **Pre-processing**ï¼šå›¾åƒé¢„å¤„ç†é€‰é¡¹
- **Processing**ï¼šå¼€å§‹/åœæ­¢å¤„ç†ã€å¯¼å‡ºæ•°æ®
- **Interactive Chart**ï¼šç½®ä¿¡åº¦è‰²å½©ç¼–ç çš„æ•£ç‚¹å›¾ï¼Œæ”¯æŒç‚¹å‡»è·³è½¬åˆ°å¯¹åº”å›¾åƒå¸§

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡             | æ•°å€¼                 |
| ---------------- | -------------------- |
| **è¯†åˆ«é€Ÿåº¦**     | 100-200 ms/å›¾åƒ      |
| **è¯†åˆ«å‡†ç¡®ç‡**   | 97%+ï¼ˆSVTR_Tinyï¼‰    |
| **æ”¯æŒå›¾åƒæ ¼å¼** | JPG, PNG, BMP, TIFF  |
| **æœ€å¤§å›¾åƒåºåˆ—** | æ— é™åˆ¶ï¼ˆå–å†³äºå†…å­˜ï¼‰ |
| **å¹¶å‘å¤„ç†**     | å•çº¿ç¨‹å¼‚æ­¥å¤„ç†       |

---

## ğŸ› ï¸ é«˜çº§åŠŸèƒ½

### ç½®ä¿¡åº¦å¯è§†åŒ–ä¸äº¤äº’

**é¢œè‰²ç¼–ç ç³»ç»Ÿ**

ç¨‹åºè‡ªåŠ¨ä¸ºæ¯ä¸ªè¯†åˆ«ç»“æœåˆ†é…ç½®ä¿¡åº¦è¯„åˆ†ï¼Œå¹¶é€šè¿‡é¢œè‰²ç›´è§‚å±•ç¤ºï¼š

- **ğŸŸ¢ ç»¿è‰²ç‚¹** (ç½®ä¿¡åº¦ â‰¥ 0.9)
  - è¡¨ç¤ºé«˜ç½®ä¿¡åº¦è¯†åˆ«
  - è¿™äº›ç»“æœé«˜åº¦å¯ä¿¡ï¼Œé€šå¸¸æ— éœ€äººå·¥å¤æ ¸
  - é€‚åˆç›´æ¥ç”¨äºæ•°æ®åˆ†æ

- **ğŸŸ  æ©™è‰²ç‚¹** (ç½®ä¿¡åº¦ 0.75 ~ 0.89)
  - è¡¨ç¤ºä¸­ç­‰ç½®ä¿¡åº¦è¯†åˆ«
  - è¯†åˆ«ç»“æœåŸºæœ¬å¯ä¿¡ï¼Œä½†å»ºè®®æŠ½æŸ¥éªŒè¯
  - å¦‚æœ‰å¼‚å¸¸å€¼ï¼Œéœ€æ£€æŸ¥å¯¹åº”å›¾åƒ

- **ğŸ”´ çº¢è‰²ç‚¹** (ç½®ä¿¡åº¦ < 0.75)
  - è¡¨ç¤ºä½ç½®ä¿¡åº¦è¯†åˆ«
  - è¯†åˆ«ç»“æœå¯ä¿¡åº¦è¾ƒä½ï¼Œå¼ºçƒˆå»ºè®®äººå·¥å¤æ ¸
  - å¯èƒ½æ˜¯å›¾åƒè´¨é‡é—®é¢˜æˆ–æ•°å­—æ¨¡ç³Š

- **âš« é»‘è‰²ç‚¹** (NaN - è¯†åˆ«å¤±è´¥)
  - è¡¨ç¤ºå®Œå…¨æ— æ³•è¯†åˆ«
  - éœ€è¦æ£€æŸ¥åŸå§‹å›¾åƒ
  - å¯èƒ½éœ€è¦è°ƒæ•´é¢„å¤„ç†å‚æ•°æˆ–ROIåŒºåŸŸ

**äº¤äº’å¼å›¾åƒè·³è½¬**

ç‚¹å‡»æ•£ç‚¹å›¾ä¸Šçš„ä»»æ„æ•°æ®ç‚¹å³å¯ï¼š
- å›¾åƒé¢„è§ˆåŒºåŸŸè‡ªåŠ¨æ˜¾ç¤ºå¯¹åº”å¸§
- å›¾åƒæ»‘å—åŒæ­¥æ›´æ–°åˆ°å¯¹åº”ä½ç½®
- æ—¥å¿—çª—å£è®°å½•è·³è½¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
  - å¸§å· (ä¾‹ï¼š15/100)
  - æ—¶é—´å€¼ (ä¾‹ï¼š14.5 s)
  - è¯»æ•°å€¼ (ä¾‹ï¼š25.3 Â°C)
  - ç½®ä¿¡åº¦ (ä¾‹ï¼š0.876)

**åº”ç”¨åœºæ™¯**

1. **å¿«é€Ÿè´¨æ£€**ï¼šç‚¹å‡»å¼‚å¸¸å€¼ï¼ˆçº¢è‰²/é»‘è‰²ç‚¹ï¼‰å¿«é€Ÿå®šä½é—®é¢˜å›¾åƒ
2. **æ•°æ®éªŒè¯**ï¼šç‚¹å‡»æ©™è‰²ç‚¹è¿›è¡ŒæŠ½æ ·å¤æ ¸
3. **è¶‹åŠ¿åˆ†æ**ï¼šè§‚å¯Ÿé¢œè‰²åˆ†å¸ƒäº†è§£æ•´ä½“è¯†åˆ«è´¨é‡
4. **é—®é¢˜è¯Šæ–­**ï¼šé›†ä¸­çš„ä½ç½®ä¿¡åº¦ç‚¹å¯èƒ½è¡¨æ˜è¯¥æ—¶æ®µå›¾åƒè´¨é‡é—®é¢˜

**æ³¨æ„äº‹é¡¹**

- å›¾åƒå¤„ç†è¿‡ç¨‹ä¸­ç‚¹å‡»è·³è½¬åŠŸèƒ½è¢«ç¦ç”¨ï¼Œé˜²æ­¢çº¿ç¨‹å†²çª
- å¤„ç†å®Œæˆåå³å¯ä½¿ç”¨äº¤äº’åŠŸèƒ½
- å¯¼å‡ºçš„Excelæ–‡ä»¶åŒ…å«å®Œæ•´çš„ç½®ä¿¡åº¦åˆ—ï¼Œä¾¿äºåç»­åˆ†æ

### è‡ªå®šä¹‰é¢„å¤„ç†

æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´é¢„å¤„ç†å‚æ•°ï¼š

- **å™ªå£°è¾ƒå¤š**ï¼šå¢å¤§ Erosion Sizeï¼ˆå¦‚ 2 æˆ– 3ï¼‰è¿›è¡Œè…èš€å»å™ª
  - å¯ç”¨åä¼šè‡ªåŠ¨å¤„ç†å°æ•°ç‚¹ï¼Œæ›¿æ¢ä¸ºè‡ªé€‚åº”åœ†ç‚¹
- **æ–­ç¬”ä¸¥é‡**ï¼šå¢å¤§ Closing Sizeï¼ˆå¦‚ 3 æˆ– 5ï¼‰è¿›è¡Œé—­è¿ç®—è¿æ¥
- **å…‰ç…§ä¸å‡**ï¼šä¼˜åŒ–å…‰ç…§æ¡ä»¶ï¼Œæˆ–ä½¿ç”¨ Erosion Size å’Œ Closing Size ç»„åˆ
- **å‚æ•°è¯´æ˜**ï¼š
  - Erosion Sizeï¼š0 è¡¨ç¤ºç¦ç”¨ï¼Œ>0 è¡¨ç¤ºå¯ç”¨ï¼ˆä½¿ç”¨ disk å½¢çŠ¶æ ¸ï¼‰
    - å¯ç”¨åè‡ªåŠ¨æ£€æµ‹å°æ•°ç‚¹å¹¶æ›¿æ¢ä¸ºåœ†ç‚¹ï¼ˆç›´å¾„=max(4Ã— è…èš€æ ¸, ROI é«˜åº¦/15)ï¼‰
  - Closing Sizeï¼š0 è¡¨ç¤ºç¦ç”¨ï¼Œ>0 è¡¨ç¤ºå¯ç”¨ï¼ˆä½¿ç”¨çŸ©å½¢æ ¸ï¼Œè‡ªåŠ¨ä¿æŠ¤å°æ•°ç‚¹ï¼‰

### å°æ•°ç‚¹ä½ç½®è°ƒæ•´åŠŸèƒ½

å½“æ•°ç ç®¡æ˜¾ç¤ºä¸åŒ…å«å°æ•°ç‚¹ï¼Œä½†å®é™…è¯»æ•°éœ€è¦å°æ•°ä½æ—¶ï¼Œå¯ä½¿ç”¨æ­¤åŠŸèƒ½ï¼š

**åº”ç”¨åœºæ™¯**ï¼š

- æ•°ç ç®¡æ˜¾ç¤º "12345"ï¼Œå®é™…è¯»æ•°ä¸º "123.45"ï¼ˆä¸¤ä½å°æ•°ï¼‰
- æ•°ç ç®¡æ˜¾ç¤º "1000"ï¼Œå®é™…è¯»æ•°ä¸º "1.000"ï¼ˆä¸‰ä½å°æ•°ï¼‰
- éœ€è¦ç»Ÿä¸€ä¸åŒå›¾åƒçš„å°æ•°ä½æ•°æ ¼å¼

**ä½¿ç”¨æ–¹æ³•**ï¼š

1. åœ¨ **Decimal Position** ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©ç›®æ ‡ç²¾åº¦
2. ç¨‹åºä¼šè‡ªåŠ¨å°†è¯†åˆ«ç»“æœè°ƒæ•´ä¸ºæŒ‡å®šç²¾åº¦
3. ä¾‹å¦‚ï¼šè¯†åˆ«ç»“æœ "12345" + ç²¾åº¦ "0.01" = è¾“å‡º "123.45"

**ç²¾åº¦é€‰é¡¹è¯´æ˜**ï¼š

- **Keep**ï¼šä¿æŒåŸå§‹è¯†åˆ«ç»“æœï¼ˆé»˜è®¤ï¼Œæ— è°ƒæ•´ï¼‰
- **None**ï¼šç§»é™¤æ‰€æœ‰å°æ•°ç‚¹ï¼Œå¾—åˆ°æ•´æ•°
- **0.1**ï¼šè°ƒæ•´ä¸º 1 ä½å°æ•°ï¼ˆå¦‚ 123.4ï¼‰
- **0.01**ï¼šè°ƒæ•´ä¸º 2 ä½å°æ•°ï¼ˆå¦‚ 123.45ï¼‰
- **0.001**ï¼šè°ƒæ•´ä¸º 3 ä½å°æ•°ï¼ˆå¦‚ 123.456ï¼‰
- **0.0001**ï¼šè°ƒæ•´ä¸º 4 ä½å°æ•°ï¼ˆå¦‚ 123.4567ï¼‰

**æ³¨æ„äº‹é¡¹**ï¼š

- æ­¤åŠŸèƒ½åœ¨è¯†åˆ«ååº”ç”¨ï¼Œä¸å½±å“å›¾åƒé¢„å¤„ç†
- ä»…å¯¹æ•°å­—æ ¼å¼çš„è¯†åˆ«ç»“æœæœ‰æ•ˆ
- è°ƒæ•´ä¼šæŒ‰æ¯”ä¾‹ç¼©æ”¾æ•°å€¼ï¼Œä¿æŒç›¸å¯¹ç²¾åº¦

### æ‰¹é‡å¤„ç†æŠ€å·§

1. æŒ‰æ—¶é—´é¡ºåºå‘½åå›¾åƒæ–‡ä»¶
2. ç¡®ä¿æ‰€æœ‰å›¾åƒä¸­æ•°ç ç®¡ä½ç½®ä¸€è‡´
3. ä½¿ç”¨æ›´é«˜åˆ†è¾¨ç‡çš„å›¾åƒä»¥æé«˜è¯†åˆ«ç‡
4. ä½¿ç”¨ Preview Preprocessing éªŒè¯é¢„å¤„ç†æ•ˆæœ

---

## ğŸ› æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**Q1: è¯†åˆ«ç‡ä½æ€ä¹ˆåŠï¼Ÿ**

A: å°è¯•ä»¥ä¸‹æ–¹æ³•ï¼š

- æé«˜å›¾åƒè´¨é‡å’Œåˆ†è¾¨ç‡
- ä¼˜åŒ– ROI é€‰æ‹©ï¼ˆç´§å‡‘ï¼Œè¾¹è·é€‚å½“ï¼‰
- è°ƒæ•´é¢„å¤„ç†å‚æ•°ï¼š
  - å™ªå£°å¤šï¼šè®¾ç½® Erosion Size > 0ï¼ˆå¦‚ 2 æˆ– 3ï¼‰
  - æ–­ç¬”ä¸¥é‡ï¼šè®¾ç½® Closing Size > 0ï¼ˆå¦‚ 3 æˆ– 5ï¼‰
  - ä¸¤è€…å¯ç»„åˆä½¿ç”¨
- æ”¹å–„æ‹æ‘„æ¡ä»¶ï¼ˆå…‰ç…§å‡åŒ€ã€é¿å…åå…‰ï¼‰

**Q2: æ— æ³•æå–å•ä¸ªæ•°å­—**

A: å¯èƒ½åŸå› ï¼š

- ROI é€‰æ‹©è¿‡å¤§ï¼ŒåŒ…å«å¤šä¸ªæ•°å­—
- æ•°å­—ä¹‹é—´ç²˜è¿ï¼šè®¾ç½® Closing Size > 0ï¼ˆå¦‚ 3 æˆ– 5ï¼‰
- èƒŒæ™¯å™ªå£°ï¼šè®¾ç½® Erosion Size > 0ï¼ˆå¦‚ 2 æˆ– 3ï¼‰è¿›è¡Œå»å™ª
- æ³¨æ„ï¼šå¯ç”¨ Erosion Size åï¼Œå°æ•°ç‚¹ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸ºåœ†ç‚¹

**Q3: å°æ•°ç‚¹è¯†åˆ«å¤±è´¥**

A:

- ç¡®ä¿å°æ•°ç‚¹æ¸…æ™°å¯è§ä¸”åœ¨ ROI å†…
- ä½¿ç”¨æ›´é«˜åˆ†è¾¨ç‡çš„å›¾åƒ
- æ‹æ‘„æ—¶æ›´é è¿‘æ•°ç ç®¡
- å¯ç”¨ Erosion Size åï¼Œç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ›¿æ¢å°æ•°ç‚¹ä¸ºåœ†ç‚¹ï¼Œæé«˜è¯†åˆ«ç‡

**Q4: ç¨‹åºå¯åŠ¨å¤±è´¥**

A:

- ç¡®è®¤ Python ç‰ˆæœ¬ >= 3.8
- ç¡®è®¤æ¨¡å‹æ–‡ä»¶å­˜åœ¨ï¼šæ£€æŸ¥ `./svtr_tiny_digital/` ç›®å½•ä¸­æ˜¯å¦æœ‰ `best_accuracy.pdparams` æ–‡ä»¶
- ç¡®è®¤å­—å…¸æ–‡ä»¶å­˜åœ¨ï¼šæ£€æŸ¥é¡¹ç›®æ ¹ç›®å½•æ˜¯å¦æœ‰ `digital_dict.txt` æ–‡ä»¶
- é‡æ–°å®‰è£…ä¾èµ–ï¼š`pip install -r requirements.txt --upgrade`
- Windows ç”¨æˆ·ï¼šç¡®è®¤å®‰è£…äº† Visual C++ Redistributable

**Q5: æ¨¡å‹æ–‡ä»¶ç¼ºå¤±**

A:

- æ£€æŸ¥ `./svtr_tiny_digital/` ç›®å½•æ˜¯å¦å®Œæ•´
- ç¡®ä¿åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼ˆæ¨ç†æ¨¡å‹ä¼˜å…ˆï¼‰ï¼š
  - **æ¨ç†æ¨¡å‹**ï¼ˆæ¨èï¼Œé€Ÿåº¦æ›´å¿«ï¼‰ï¼š
    - `inference.pdmodel`ï¼ˆæ¨¡å‹ç»“æ„ï¼‰
    - `inference.pdiparams`ï¼ˆæ¨¡å‹æƒé‡ï¼Œ~24MBï¼‰
  - **è®­ç»ƒæ¨¡å‹**ï¼ˆå¤‡ç”¨ï¼‰ï¼š
    - `best_accuracy.pdparams`ï¼ˆæ¨¡å‹æƒé‡ï¼Œ~24MBï¼‰
  - **é…ç½®æ–‡ä»¶**ï¼š
    - `config.yml`ï¼ˆæ¨¡å‹é…ç½®ï¼‰
- ç¨‹åºä¼šè‡ªåŠ¨ä¼˜å…ˆä½¿ç”¨æ¨ç†æ¨¡å‹ï¼Œå¦‚æ¨ç†æ¨¡å‹ä¸å­˜åœ¨åˆ™ä½¿ç”¨è®­ç»ƒæ¨¡å‹
- å¦‚æœæ–‡ä»¶ç¼ºå¤±ï¼Œè¯·ä»é¡¹ç›®ä»“åº“é‡æ–°ä¸‹è½½æˆ–å‚è€ƒæ¨¡å‹è®­ç»ƒæŒ‡å—

### æ—¥å¿—åˆ†æ

æ—¥å¿—é¢œè‰²å«ä¹‰ï¼š

- **é»‘è‰²**ï¼šæ­£å¸¸ä¿¡æ¯ï¼ˆINFOï¼‰
- **æ©™è‰²**ï¼šè­¦å‘Šä¿¡æ¯ï¼ˆWARNINGï¼‰
- **çº¢è‰²**ï¼šé”™è¯¯ä¿¡æ¯ï¼ˆERRORï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Š Bug æˆ–æå‡ºæ–°åŠŸèƒ½å»ºè®®ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª PEP 8 ä»£ç è§„èŒƒ
- æ·»åŠ è¯¦ç»†çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- æäº¤å‰è¿è¡Œæµ‹è¯•

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License** å¼€æºåè®®ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

```
Copyright (c) 2025 Lucien

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction...
```

---

## ğŸ‘¨â€ğŸ’» ä½œè€…ä¿¡æ¯

**Lucien**

- Email: lucien-6@qq.com
- GitHub: [@Lucien](https://github.com/yourusername)

---

## ğŸ™ è‡´è°¢

- OpenCV å›¢é˜Ÿæä¾›çš„å¼ºå¤§è®¡ç®—æœºè§†è§‰åº“
- Python ç¤¾åŒºçš„ä¼˜ç§€å¼€æºå·¥å…·
- æ‰€æœ‰æµ‹è¯•ç”¨æˆ·çš„åé¦ˆå’Œå»ºè®®

---

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- **Email**: lucien-6@qq.com
- **Issues**: [GitHub Issues](https://github.com/yourusername/Device_Number_Reading/issues)

---

<a name="english"></a>

## ğŸ“– Introduction (English)

Device Number Reading is an advanced image recognition and analysis system designed for industrial device digital display readings. Using PaddleOCR SVTR_Tiny custom-trained model and computer vision technology, it automatically recognizes 7-segment/8-segment LED display numbers with high accuracy and exports time-series data to Excel format.

### âœ¨ Key Features

- ğŸ¯ **High Precision**: Custom-trained SVTR_Tiny model for digital displays (97%+ accuracy)
- ğŸš€ **Ready to Use**: Pre-trained model included, no download required (24MB)
- ğŸ“¦ **Lightweight**: 7x smaller than general models, faster inference
- ğŸ”§ **Flexible Configuration**: Multiple preprocessing options and adjustable parameters
- ğŸ“Š **Data Visualization**: Real-time reading curve plotting
- ğŸ’¾ **Data Export**: One-click Excel export
- ğŸ–¼ï¸ **ROI Selection**: Visual region of interest selection
- ğŸš€ **Batch Processing**: Support for image sequence batch recognition

### ğŸš€ Quick Start

```bash
# Clone repository
git clone https://github.com/yourusername/Device_Number_Reading.git
cd Device_Number_Reading

# Install dependencies
pip install -r requirements.txt

# Run application
python Device_Reading_Analyzer.py
```

### ğŸ“˜ Basic Workflow

1. Load image sequence
2. Select ROI (Region of Interest)
3. Configure parameters
4. Process images
5. Export to Excel

### ğŸ”§ Technology Stack

- **Python 3.8+**: Main programming language
- **OpenCV 4.5+**: Image processing
- **PaddleOCR 2.7+**: OCR inference engine
- **PaddlePaddle 2.5+**: Deep learning framework
- **SVTR_Tiny**: Custom-trained digital recognition model
- **NumPy**: Numerical computing
- **Tkinter**: GUI framework
- **Matplotlib**: Data visualization
- **Pandas**: Data processing

### ğŸ“Š Performance Metrics

- **Recognition Speed**: 100-200 ms/image
- **Accuracy**: 97%+ (SVTR_Tiny custom model)
- **Supported Formats**: JPG, PNG, BMP, TIFF
- **Max Image Sequence**: Unlimited (memory dependent)

### ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

### ğŸ‘¨â€ğŸ’» Author

**Lucien**

- Email: lucien-6@qq.com

---

<div align="center">

**â­ If this project helps you, please give it a star! â­**

Made with â¤ï¸ by Lucien

</div>
